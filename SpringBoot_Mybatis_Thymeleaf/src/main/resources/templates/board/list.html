<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/default :: head(|${board}List|)">
<meta charset="UTF-8">
<title>Home</title>
</head>
<body>
	
	<div th:replace="fragments/default :: header"></div>
	
	<div th:replace="fragments/default :: jumbo"></div>
	
	<div class="container">
		<h2 th:text="${board}"></h2>
		
		
		<!-- 검색 form -->
		<div class=" d-flex justify-content-start">
			<div class="input-group align-items-center">
				<form id="frm" th:action="@{list}" class="form-inline">
					<input type="hidden" name="curPage" value="1" id="curPage">
					<div class="input-group-prepend">
						<select class="form-control" name="kind" id="kind"
							th:value="${pager.kind}">
							<option class="sel"
								th:selected="${pager.kind}== 'Title'?true:false">Title</option>
							<option class="sel"
								th:selected="${pager.kind}=='Contents'?true:false">Contents</option>
							<option class="sel"
								th:selected="${pager.kind}=='Writer'?true:false">Writer</option>
						</select>
					</div>
					<input type="text" class="form-control" name="search" id="search"
						th:value="${pager.search}" placeholder="">
					<div class="input-group-append">
						<button class="btn btn-success" type="submit">Search</button>
					</div>
				</form>
			</div>
		</div>
		
		
		<!-- Table form -->
		<table class="table">
			  <thead class="thead-dark">
			    <tr>
			      <th scope="col">Num</th>
			      <th scope="col">Title</th>
			      <th scope="col">Writer</th>
			      <th scope="col">Date</th>
			      <th scope="col">Hit</th>
			      <th scope="col">Index</th>
			      <th scope="col">Count</th>
			      <th scope="col">Size</th>
			      <th scope="col">Even</th>
			      <th scope="col">Odd</th>
			      <th scope="col">First</th>
			      <th scope="col">Last</th>
			      <!-- <th scope="col">Current</th> -->
			    </tr>
			  </thead>
			  <tbody>
			  		<!-- 상태번호를 담을 변수 : state -->
			    <tr th:each="vo, state : ${list}">
			      <th scope="row" th:text="${vo.num}"></th>
			      <!-- td안에 하나의 태그를 더 넣어야한다면 거기에다가 th속성을 걸어줘야 나옴 -->
			      							<!-- @{|${board}select|} -->
			      <td><a href="#" th:href="@{select(num=${vo.num})}" th:text="${vo.title}"></a></td>
			      <td th:text="${vo.writer}"></td>
			      <td th:text="${vo.regDate}"></td>
			      <td th:text="${vo.hit}"></td>
			      <td th:text="${state.index}"></td> <!-- 인덱스 번호 0부터 시작 / 변수가 다르면 안됨! index여야만 가능 -->
			      <td th:text="${state.count}"></td> <!-- 횟수 번호 1부터 시작 -->
			      <td th:text="${state.size}"></td> <!-- 총 갯수 : list의 size와 같다 -->
			      <td th:text="${state.even}"></td> <!-- 현재 반복의 짝수 여부 -->
			      <td th:text="${state.odd}"></td> <!-- 현재 반복의 홀수 여부 -->
			      <td th:text="${state.first}"></td> <!-- 현재 반복이 첫번째 여부 -->
			      <td th:text="${state.last}"></td> <!-- 현재 반복이 마지막인지 여부 -->
			     <!-- <td th:text="${state.current}"></td>  현재 요소 -->
			    </tr>
			    
			  </tbody>
		</table>
		
		<a href="#" class="btn btn-primary" th:href="@{./insert}">WRITE</a>
		
	</div>
	
	
	<!--Pageing -->
	<div class="container d-flex justify-content-center">
			
		  <ul class="pagination">	<!-- 삼항 연산자 -->
		  	<li th:classappend="${pager.pre? 'disable':'active'}"  class="page-item">
		  	
		  		<!-- 이렇게 하면 a태그가 true면 나옴 -->
		  		<a th:if="${pager.pre}" class="page-link pager" href="#" th:title="${pager.startNum-1}">pre</a>
		  		
		  		<!-- false면 span태그가 보임 -->
		  		<!-- if else = if unless
		  				unless 사용시에도 조건식은 사용
		  				if문에 사용한 조건식과 동일한 조건식 사용 -->
		  		<span th:unless="${pager.pre}" class="page-link">pre</span>
		  		
		  	</li>
		  							<!-- 유틸리티와 구분하기위해 #붙여줌 -->
		    <li class="page-item" th:each="i : ${#numbers.sequence(pager.startNum, pager.lastNum)}"><a class="page-link pager" href="#" th:text="${i}" th:title="${i}"></a></li>
		  	<li class="page-item" th:if="${pager.next}"><a class="page-link pager" href="#" th:title="${pager.lastNum+1}">next</a></li>
		  </ul>
	
	</div>

	
	<footer th:replace="/fragments/default :: footer"></footer>
	
	<script type="text/javascript" th:src="@{/js/boardSearch.js}">
	

	
	</script>

</body>
</html>